<app-header></app-header>
<br />
<!-- <p>{{ product.productName }}</p> -->
<div class="container" style="margin-top: 80px">
  <div class="row">
    <div
      *ngFor="let product of products; let i = index"
      class="col-md-3 thumbnail"
      style="border: 1px solid; margin: 20px"
    >
      <img
        [src]="product.productUrl"
        alt="watch"
        width="100px"
        height="200px"
        style="margin-left: 80px"
      />
      <h5 class="card-title">{{ product.productName }}</h5>
      <p class="card-text">Product Id: {{ product.productId }}</p>
      <p class="card-text" *ngIf="product.amount_remaining > 0">
        Amount Remaining: {{ product.amount_remaining }}
      </p>
      <p class="card-text">Emi Scheme: {{ product.emiScheme }}</p>
      <p class="card-text">Product Price: {{ product.product_price }}</p>
      <p class="card-text">
        Product Purchased Date: {{ product.transaction_date }}
      </p>
      <h3 class="card-text" *ngIf="product.amount_remaining <= 0">
        Payment Completed
      </h3>
      <ng-container *ngIf="!product.isLoading; else showLoader">
        <button
          class="w3-button w3-black w3-margin-bottom"
          (click)="payEmi(product, i)"
          *ngIf="product.amount_remaining > 0"
        >
          PayEmi
        </button>
      </ng-container>

      <ng-template #showLoader
        ><button class="w3-button w3-black w3-margin-bottom" disabled>
          Processing...
        </button></ng-template
      >
    </div>
  </div>
</div>

<!-- <div
  class="modal fade"
  id="productModal"
  tabindex="-1"
  role="dialog"
  aria-labelledby="exampleModalLongTitle"
  aria-hidden="true"
>
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLongTitle">Product Details</h5>
        <button
          type="button"
          class="close"
          data-dismiss="modal"
          aria-label="Close"
        >
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <app-product-details
          *ngIf="product"
          [product]="product"
        ></app-product-details>
      </div>
      <div class="modal-footer">

      </div>
    </div>
  </div>
</div> -->
